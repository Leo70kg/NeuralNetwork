OBJ1 	= BSDEConfiguration.o BSDEModel.o BSDEModelSeq.o BSDEModelMs.o BSDEModelRing.o Equation.o HJBLQ.o PricingDefaultRisk.o AllenCahn.o collectives appMs.o
OBJ2 	= BSDEConfiguration.o BSDEModel.o BSDEModelSeq.o BSDEModelMs.o BSDEModelRing.o Equation.o HJBLQ.o PricingDefaultRisk.o AllenCahn.o collectives appRing.o

OBJS	= $(OBJ1) $(OBJ2)

EXEC1	= BSDE_parallel_ms.out
EXEC2	= BSDE_parallel_ring.out
EXECS	= $(EXEC1) $(EXEC2)

CC  	= g++ 
MPICC 	= mpicxx

FLAGS  	= -g -c -Wall -O3 -std=c++11
LFLAGS 	=  

all: $(EXECS)	
	
$(EXEC1): $(OBJ1)
	$(MPICC) $(OBJ1) -o $(EXEC1) $(LFLAGS)
	
$(EXEC2): $(OBJ2)
	$(MPICC) $(OBJ2) -o $(EXEC2) $(LFLAGS)


%.o: %.cpp
	$(MPICC) $(FLAGS) $< -o $@

BSDEConfiguration.o: BSDEConfiguration.cpp BSDEConfiguration.h  

BSDEModel.o: BSDEModel.cpp BSDEModel.h 

BSDEModelMs.o: BSDEModelMs.cpp BSDEModelMs.h

BSDEModelRing.o: BSDEModelRing.cpp BSDEModelRing.h

BSDEModelSeq.o: BSDEModelSeq.cpp BSDEModelSeq.h

Equation.o: Equation.cpp Equation.h 

HJBLQ.o: HJBLQ.cpp HJBLQ.h

AllenCahn.o: AllenCahn.cpp AllenCahn.h

PricingDefaultRisk.o: PricingDefaultRisk.cpp PricingDefaultRisk.h  

collectives.o: collectives.cpp collectives.h

appMs.o: appMs.cpp

appRing.o: appRing.cpp

appSeq.o: appSeq.cpp

clean: 
	rm -f $(OBJS) $(EXECS)
